{"map":{"version":3,"sources":["static/js/main.84800358.chunk.js"],"names":["this","push","58","module","exports","__webpack_require__","63","64","65","66","82","83","84","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","Avatar","IconButton","DonutLarge","DonutLarge_default","Chat","Chat_default","MoreVert","MoreVert_default","SearchOutlined","SearchOutlined_default","index_cjs","index_cjs_default","db","a","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","provider","GoogleAuthProvider","firebase","react_router_dom","src_SidebarChat","_ref","_messages$","id","name","addNewChat","_useState","Object","_useState2","seed","setSeed","_useState3","_useState4","messages","setMessages","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","Math","floor","random","createElement","onClick","roomName","prompt","add","className","to","concat","src","StateContext","StateProvider_StateProvider","reducer","initialState","children","Provider","value","StateProvider_useStateValue","src_Sidebar","rooms","setRooms","_useStateValue","_useStateValue2","user","unsubscribe","photoURL","placeholder","type","room","key","AttachFile","AttachFile_default","InsertEmoticon","InsertEmoticon_default","Mic","Mic_default","react_router","src_Chat_0","_messages","_messages$timestamp","input","setInput","roomId","_useState5","_useState6","setRoomName","_useState7","_useState8","Date","length","timestamp","toDate","toUTCString","message","_message$timestamp","onChange","e","target","preventDefault","console","log","displayName","FieldValue","serverTimestamp","Button","objectSpread2","actionTypes","src_reducer","state","action","src_Login","dispatch","alt","signInWithPopup","then","result","catch","error","alert","src_App","path","Boolean","window","location","hostname","match","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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"},"code":"(this[\"webpackJsonpwhatsapp-clone\"]=this[\"webpackJsonpwhatsapp-clone\"]||[]).push([[0],{58:function(e,a,t){e.exports=t(84)},63:function(e,a,t){},64:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){},82:function(e,a,t){},83:function(e,a,t){},84:function(e,a,t){\"use strict\";t.r(a);var n=t(0),c=t.n(n),r=t(24),l=t.n(r),o=(t(63),t(10)),s=(t(64),t(65),t(98)),i=t(96),m=t(49),u=t.n(m),d=t(50),p=t.n(d),h=t(35),E=t.n(h),f=t(36),v=t.n(f),b=(t(66),t(26)),g=t.n(b),_=g.a.initializeApp({apiKey:\"AIzaSyCMAGnyv-WkiSGLZvWiM5J1nVEwzKOWRP0\",authDomain:\"whatsapp-clone-b94c7.firebaseapp.com\",databaseURL:\"https://whatsapp-clone-b94c7.firebaseio.com\",projectId:\"whatsapp-clone-b94c7\",storageBucket:\"whatsapp-clone-b94c7.appspot.com\",messagingSenderId:\"631038255204\",appId:\"1:631038255204:web:bd0f81606327bede9a7f71\",measurementId:\"G-9D0S361SZG\"}).firestore(),j=g.a.auth(),O=new g.a.auth.GoogleAuthProvider,N=_,S=t(27);var w=function(e){var a,t=e.id,r=e.name,l=e.addNewChat,i=Object(n.useState)(\"\"),m=Object(o.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)(\"\"),h=Object(o.a)(p,2),E=h[0],f=h[1];return Object(n.useEffect)((function(){t&&N.collection(\"rooms\").doc(t).collection(\"messages\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){return f(e.docs.map((function(e){return e.data()})))}))}),[t]),Object(n.useEffect)((function(){d(Math.floor(5e3*Math.random()))}),[]),l?c.a.createElement(\"div\",{onClick:function(){var e=prompt(\"Please Enter name for chat room..\");e&&N.collection(\"rooms\").add({name:e})},className:\"sidebarChat\"},c.a.createElement(\"h2\",null,\"Add New Chat\")):c.a.createElement(S.b,{to:\"/rooms/\".concat(t)},c.a.createElement(\"div\",{className:\"sidebarChat\"},c.a.createElement(s.a,{src:\"https://avatars.dicebear.com/api/human/\".concat(u,\".svg\")}),c.a.createElement(\"div\",{className:\"sidebarChat__info\"},c.a.createElement(\"h2\",null,r),c.a.createElement(\"p\",null,null===(a=E[0])||void 0===a?void 0:a.messages))))},y=Object(n.createContext)(),C=function(e){var a=e.reducer,t=e.initialState,r=e.children;return c.a.createElement(y.Provider,{value:Object(n.useReducer)(a,t)},r)},k=function(){return Object(n.useContext)(y)};var I=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],r=a[1],l=k(),m=Object(o.a)(l,2),d=m[0].user;return m[1],Object(n.useEffect)((function(){var e=N.collection(\"rooms\").onSnapshot((function(e){r(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}));return function(){e()}}),[]),c.a.createElement(\"div\",{className:\"sidebar\"},c.a.createElement(\"div\",{className:\"sidebar__header\"},c.a.createElement(s.a,{src:null===d||void 0===d?void 0:d.photoURL}),c.a.createElement(\"div\",{className:\"sidebar__headerRight\"},c.a.createElement(i.a,null,c.a.createElement(u.a,null)),c.a.createElement(i.a,null,c.a.createElement(p.a,null)),c.a.createElement(i.a,null,c.a.createElement(E.a,null)))),c.a.createElement(\"div\",{className:\"sidebar__search\"},c.a.createElement(\"div\",{className:\"sidebar__searchContainer\"},c.a.createElement(v.a,null),c.a.createElement(\"input\",{placeholder:\"Serach out Here..\",type:\"text\"}))),c.a.createElement(\"div\",{className:\"sidebar__chats\"},c.a.createElement(w,{addNewChat:!0}),t.map((function(e){return c.a.createElement(w,{key:e.id,id:e.id,name:e.data.name})}))))},W=(t(82),t(51)),A=t.n(W),D=t(52),M=t.n(D),R=t(53),x=t.n(R),G=t(5);var T=function(){var e,a,t=Object(n.useState)(\"\"),r=Object(o.a)(t,2),l=r[0],m=r[1],u=Object(n.useState)(\"\"),d=Object(o.a)(u,2),p=d[0],h=d[1],f=Object(G.f)().roomId,b=Object(n.useState)(\"\"),_=Object(o.a)(b,2),j=_[0],O=_[1],S=Object(n.useState)([]),w=Object(o.a)(S,2),y=w[0],C=w[1],I=k(),W=Object(o.a)(I,2),D=W[0].user;return W[1],Object(n.useEffect)((function(){f&&(N.collection(\"rooms\").doc(f).onSnapshot((function(e){return O(e.data().name)})),N.collection(\"rooms\").doc(f).collection(\"messages\").orderBy(\"timestamp\",\"asc\").onSnapshot((function(e){return C(e.docs.map((function(e){return e.data()})))})))}),[f]),Object(n.useEffect)((function(){h(Math.floor(5e3*Math.random()))}),[f]),c.a.createElement(\"div\",{className:\"chat\"},c.a.createElement(\"div\",{className:\"chat__header\"},c.a.createElement(s.a,{src:\"https://avatars.dicebear.com/api/human/\".concat(p,\".svg\")}),c.a.createElement(\"div\",{className:\"chat__headerInfo\"},c.a.createElement(\"h3\",null,j),c.a.createElement(\"p\",null,\"last seen\",\" \",new Date(null===(e=y[y.length-1])||void 0===e||null===(a=e.timestamp)||void 0===a?void 0:a.toDate()).toUTCString())),c.a.createElement(\"div\",{className:\"chat__headerRight\"},c.a.createElement(i.a,null,c.a.createElement(v.a,null)),c.a.createElement(i.a,null,c.a.createElement(A.a,null)),c.a.createElement(i.a,null,c.a.createElement(E.a,null)))),c.a.createElement(\"div\",{className:\"chat__body\"},y.map((function(e){var a;return c.a.createElement(\"p\",{className:\"chat__message \".concat(\"chat__reciever\")},c.a.createElement(\"span\",{className:\"chat__name\"},e.name),e.message,c.a.createElement(\"span\",{className:\"chat__timestamp\"},new Date(null===(a=e.timestamp)||void 0===a?void 0:a.toDate()).toUTCString()))}))),c.a.createElement(\"div\",{className:\"chat__footer\"},c.a.createElement(M.a,null),c.a.createElement(\"form\",null,c.a.createElement(\"input\",{value:l,onChange:function(e){return m(e.target.value)},placeholder:\"Type a message\",type:\"text\"}),c.a.createElement(\"button\",{onClick:function(e){e.preventDefault(),console.log(\"You Typed >>>>\",l),N.collection(\"rooms\").doc(f).collection(\"messages\").add({message:l,name:D.displayName,timestamp:g.a.firestore.FieldValue.serverTimestamp()}),m(\"\")},type:\"submit\"},\"Send a message\")),c.a.createElement(x.a,null)))},z=t(97),B=(t(83),t(40)),P=\"SET_USER\",U=function(e,a){switch(console.log(a),a.type){case P:return Object(B.a)(Object(B.a)({},e),{},{user:a.user});default:return e}};var J=function(){var e=k(),a=Object(o.a)(e,2),t=(a[0].user,a[1]);return c.a.createElement(\"div\",{className:\"login\"},c.a.createElement(\"div\",{className:\"login__container\"},c.a.createElement(\"img\",{src:\"https://i0.wp.com/metro.co.uk/wp-content/uploads/2019/12/WhatsApp-from-Facebook-d14e.jpg?quality=90&strip=all&zoom=1&resize=480%2C268&ssl=1\",alt:\"\"}),c.a.createElement(\"div\",{className:\"login__text\"},c.a.createElement(\"h1\",null,\"Sign In to WhatsApp\")),c.a.createElement(z.a,{onClick:function(){j.signInWithPopup(O).then((function(e){t({type:P,user:e.user})})).catch((function(e){return alert(e.message)}))}},\"Sign in with Google\")))};var L=function(){var e=k(),a=Object(o.a)(e,2),t=a[0].user;return a[1],c.a.createElement(\"div\",{className:\"app\"},t?c.a.createElement(\"div\",{className:\"app__body\"},c.a.createElement(S.a,null,c.a.createElement(I,null),c.a.createElement(G.c,null,c.a.createElement(G.a,{path:\"/rooms/:roomId\"},c.a.createElement(T,null)),c.a.createElement(G.a,{path:\"/\"},c.a.createElement(T,null))))):c.a.createElement(J,null))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,{initialState:{user:null},reducer:U},c.a.createElement(L,null))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[58,1,2]]]);","extractedComments":[]}