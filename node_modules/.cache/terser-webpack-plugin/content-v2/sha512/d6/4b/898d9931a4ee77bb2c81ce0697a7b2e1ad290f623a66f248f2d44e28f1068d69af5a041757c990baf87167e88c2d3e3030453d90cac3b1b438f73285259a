{"map":{"version":3,"sources":["static/js/main.d2583f07.chunk.js"],"names":["this","push","59","module","exports","__webpack_require__","64","65","66","67","83","84","85","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","Avatar","IconButton","DonutLarge","DonutLarge_default","Chat","Chat_default","MoreVert","MoreVert_default","SearchOutlined","SearchOutlined_default","index_cjs","index_cjs_default","db","a","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","provider","GoogleAuthProvider","firebase","react_router_dom","src_SidebarChat","_ref","_messages$","id","name","addNewChat","_useState","Object","_useState2","seed","setSeed","_useState3","_useState4","messages","setMessages","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","Math","floor","random","createElement","onClick","roomName","prompt","add","className","to","concat","src","StateContext","StateProvider_StateProvider","reducer","initialState","children","Provider","value","StateProvider_useStateValue","src_Sidebar","rooms","setRooms","_useStateValue","_useStateValue2","user","unsubscribe","photoURL","placeholder","type","room","key","Button","AttachFile","AttachFile_default","InsertEmoticon","InsertEmoticon_default","Mic","Mic_default","Send","Send_default","react_router","src_Chat_0","_messages","_messages$timestamp","input","setInput","roomId","_useState5","_useState6","setRoomName","_useState7","_useState8","Date","length","timestamp","toDate","toUTCString","message","_message$timestamp","displayName","onChange","e","target","preventDefault","console","log","FieldValue","serverTimestamp","objectSpread2","actionTypes","src_reducer","state","action","src_Login","dispatch","alt","signInWithPopup","then","result","catch","error","alert","src_App","path","Boolean","window","location","hostname","match","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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"},"code":"(this[\"webpackJsonpwhatsapp-clone\"]=this[\"webpackJsonpwhatsapp-clone\"]||[]).push([[0],{59:function(e,a,t){e.exports=t(85)},64:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){},67:function(e,a,t){},83:function(e,a,t){},84:function(e,a,t){},85:function(e,a,t){\"use strict\";t.r(a);var n=t(0),c=t.n(n),l=t(24),r=t.n(l),o=(t(64),t(10)),s=(t(65),t(66),t(99)),i=t(97),m=t(49),u=t.n(m),d=t(50),p=t.n(d),h=t(35),E=t.n(h),f=t(36),v=t.n(f),b=(t(67),t(26)),g=t.n(b),_=g.a.initializeApp({apiKey:\"AIzaSyCMAGnyv-WkiSGLZvWiM5J1nVEwzKOWRP0\",authDomain:\"whatsapp-clone-b94c7.firebaseapp.com\",databaseURL:\"https://whatsapp-clone-b94c7.firebaseio.com\",projectId:\"whatsapp-clone-b94c7\",storageBucket:\"whatsapp-clone-b94c7.appspot.com\",messagingSenderId:\"631038255204\",appId:\"1:631038255204:web:bd0f81606327bede9a7f71\",measurementId:\"G-9D0S361SZG\"}).firestore(),j=g.a.auth(),O=new g.a.auth.GoogleAuthProvider,N=_,w=t(27);var S=function(e){var a,t=e.id,l=e.name,r=e.addNewChat,i=Object(n.useState)(\"\"),m=Object(o.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)(\"\"),h=Object(o.a)(p,2),E=h[0],f=h[1];return Object(n.useEffect)((function(){t&&N.collection(\"rooms\").doc(t).collection(\"messages\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){return f(e.docs.map((function(e){return e.data()})))}))}),[t]),Object(n.useEffect)((function(){d(Math.floor(5e3*Math.random()))}),[]),r?c.a.createElement(\"div\",{onClick:function(){var e=prompt(\"Please Enter name for chat room..\");e&&N.collection(\"rooms\").add({name:e})},className:\"sidebarChat\"},c.a.createElement(\"h2\",null,\"Add New Chat\")):c.a.createElement(w.b,{to:\"/rooms/\".concat(t)},c.a.createElement(\"div\",{className:\"sidebarChat\"},c.a.createElement(s.a,{src:\"https://avatars.dicebear.com/api/human/\".concat(u,\".svg\")}),c.a.createElement(\"div\",{className:\"sidebarChat__info\"},c.a.createElement(\"h2\",null,l),c.a.createElement(\"p\",null,null===(a=E[0])||void 0===a?void 0:a.messages))))},y=Object(n.createContext)(),C=function(e){var a=e.reducer,t=e.initialState,l=e.children;return c.a.createElement(y.Provider,{value:Object(n.useReducer)(a,t)},l)},k=function(){return Object(n.useContext)(y)};var I=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],l=a[1],r=k(),m=Object(o.a)(r,2),d=m[0].user;return m[1],Object(n.useEffect)((function(){var e=N.collection(\"rooms\").onSnapshot((function(e){l(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}));return function(){e()}}),[]),c.a.createElement(\"div\",{className:\"sidebar\"},c.a.createElement(\"div\",{className:\"sidebar__header\"},c.a.createElement(s.a,{src:null===d||void 0===d?void 0:d.photoURL}),c.a.createElement(\"div\",{className:\"sidebar__headerRight\"},c.a.createElement(i.a,null,c.a.createElement(u.a,null)),c.a.createElement(i.a,null,c.a.createElement(p.a,null)),c.a.createElement(i.a,null,c.a.createElement(E.a,null)))),c.a.createElement(\"div\",{className:\"sidebar__search\"},c.a.createElement(\"div\",{className:\"sidebar__searchContainer\"},c.a.createElement(v.a,null),c.a.createElement(\"input\",{placeholder:\"Serach out Here..\",type:\"text\"}))),c.a.createElement(\"div\",{className:\"sidebar__chats\"},c.a.createElement(S,{addNewChat:!0}),t.map((function(e){return c.a.createElement(S,{key:e.id,id:e.id,name:e.data.name})}))))},R=(t(83),t(98)),x=t(51),A=t.n(x),D=t(52),M=t.n(D),W=t(54),B=t.n(W),G=t(53),T=t.n(G),P=t(5);var U=function(){var e,a,t=Object(n.useState)(\"\"),l=Object(o.a)(t,2),r=l[0],m=l[1],u=Object(n.useState)(\"\"),d=Object(o.a)(u,2),p=d[0],h=d[1],f=Object(P.f)().roomId,b=Object(n.useState)(\"\"),_=Object(o.a)(b,2),j=_[0],O=_[1],w=Object(n.useState)([]),S=Object(o.a)(w,2),y=S[0],C=S[1],I=k(),x=Object(o.a)(I,2),D=x[0].user;return x[1],Object(n.useEffect)((function(){f&&(N.collection(\"rooms\").doc(f).onSnapshot((function(e){return O(e.data().name)})),N.collection(\"rooms\").doc(f).collection(\"messages\").orderBy(\"timestamp\",\"asc\").onSnapshot((function(e){return C(e.docs.map((function(e){return e.data()})))})))}),[f]),Object(n.useEffect)((function(){h(Math.floor(5e3*Math.random()))}),[f]),c.a.createElement(\"div\",{className:\"chat\"},c.a.createElement(\"div\",{className:\"chat__header\"},c.a.createElement(s.a,{src:\"https://avatars.dicebear.com/api/human/\".concat(p,\".svg\")}),c.a.createElement(\"div\",{className:\"chat__headerInfo\"},c.a.createElement(\"h3\",null,j),c.a.createElement(\"p\",null,\"last seen\",\" \",new Date(null===(e=y[y.length-1])||void 0===e||null===(a=e.timestamp)||void 0===a?void 0:a.toDate()).toUTCString())),c.a.createElement(\"div\",{className:\"chat__headerRight\"},c.a.createElement(i.a,null,c.a.createElement(v.a,null)),c.a.createElement(i.a,null,c.a.createElement(A.a,null)),c.a.createElement(i.a,null,c.a.createElement(E.a,null)))),c.a.createElement(\"div\",{className:\"chat__body\"},y.map((function(e){var a;return c.a.createElement(\"p\",{className:\"chat__message \".concat(e.name===D.displayName&&\"chat__reciever\")},c.a.createElement(\"span\",{className:\"chat__name\"},e.name),e.message,c.a.createElement(\"span\",{className:\"chat__timestamp\"},new Date(null===(a=e.timestamp)||void 0===a?void 0:a.toDate()).toUTCString()))}))),c.a.createElement(\"div\",{className:\"chat__footer\"},c.a.createElement(M.a,null),c.a.createElement(\"form\",null,c.a.createElement(\"input\",{value:r,onChange:function(e){return m(e.target.value)},placeholder:\"Type a message\",type:\"text\"}),c.a.createElement(R.a,{onClick:function(e){e.preventDefault(),console.log(\"You Typed >>>>\",r),N.collection(\"rooms\").doc(f).collection(\"messages\").add({message:r,name:D.displayName,timestamp:g.a.firestore.FieldValue.serverTimestamp()}),m(\"\")},type:\"submit\"},\"Send a message\")),c.a.createElement(i.a,null,c.a.createElement(T.a,null)),c.a.createElement(i.a,null,c.a.createElement(B.a,null))))},z=(t(84),t(40)),J=\"SET_USER\",L=function(e,a){switch(console.log(a),a.type){case J:return Object(z.a)(Object(z.a)({},e),{},{user:a.user});default:return e}};var K=function(){var e=k(),a=Object(o.a)(e,2),t=(a[0].user,a[1]);return c.a.createElement(\"div\",{className:\"login\"},c.a.createElement(\"div\",{className:\"login__container\"},c.a.createElement(\"img\",{src:\"https://seeklogo.net/wp-content/uploads/2013/04/whatsapp-vector-logo-400x400.png\",alt:\"\"}),c.a.createElement(\"div\",{className:\"login__text\"},c.a.createElement(\"h1\",null,\"Sign In to WhatsApp\"),c.a.createElement(\"h6\",null,\"Brought you by Rukaiya Anwar\")),c.a.createElement(R.a,{onClick:function(){j.signInWithPopup(O).then((function(e){t({type:J,user:e.user})})).catch((function(e){return alert(e.message)}))}},\"Sign in with Google\")))};var V=function(){var e=k(),a=Object(o.a)(e,2),t=a[0].user;return a[1],c.a.createElement(\"div\",{className:\"app\"},t?c.a.createElement(\"div\",{className:\"app__body\"},c.a.createElement(w.a,null,c.a.createElement(I,null),c.a.createElement(P.c,null,c.a.createElement(P.a,{path:\"/rooms/:roomId\"},c.a.createElement(U,null)),c.a.createElement(P.a,{path:\"/\"},c.a.createElement(U,null))))):c.a.createElement(K,null))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,{initialState:{user:null},reducer:L},c.a.createElement(V,null))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);","extractedComments":[]}