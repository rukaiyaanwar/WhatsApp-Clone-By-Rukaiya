{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\WhatsApp\\\\whatsapp-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from'react';import'./Sidebar.css';import{useEffect,useState}from'react';import{Avatar,IconButton}from\"@material-ui/core\";import DonutLargeIcon from\"@material-ui/icons/DonutLarge\";import ChatIcon from\"@material-ui/icons/Chat\";import MoreVertIcon from\"@material-ui/icons/MoreVert\";import SearchOutlined from\"@material-ui/icons/SearchOutlined\";import SidebarChat from'./SidebarChat';import db from\"./firebase\";import{useStateValue}from'./StateProvider';function Sidebar(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),user=_useStateValue2[0].user,setUser=_useStateValue2[1];useEffect(function(){var unsubscribe=db.collection('rooms').onSnapshot(function(snapshot){setRooms(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});return function(){unsubscribe();};},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__header\"},/*#__PURE__*/React.createElement(Avatar,{src:user===null||user===void 0?void 0:user.photoURL}),/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__headerRight\"},/*#__PURE__*/React.createElement(IconButton,null,/*#__PURE__*/React.createElement(DonutLargeIcon,null)),/*#__PURE__*/React.createElement(IconButton,null,/*#__PURE__*/React.createElement(ChatIcon,null)),/*#__PURE__*/React.createElement(IconButton,null,/*#__PURE__*/React.createElement(MoreVertIcon,null)))),/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__search\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__searchContainer\"},/*#__PURE__*/React.createElement(SearchOutlined,null),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Serach out Here..\",type:\"text\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__chats\"},/*#__PURE__*/React.createElement(SidebarChat,{addNewChat:true}),rooms.map(function(room){return/*#__PURE__*/React.createElement(SidebarChat,{key:room.id,id:room.id,name:room.data.name});})));}export default Sidebar;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/WhatsApp/whatsapp-clone/src/Sidebar.js"],"names":["React","useEffect","useState","Avatar","IconButton","DonutLargeIcon","ChatIcon","MoreVertIcon","SearchOutlined","SidebarChat","db","useStateValue","Sidebar","rooms","setRooms","user","setUser","unsubscribe","collection","onSnapshot","snapshot","docs","map","doc","id","data","photoURL","room","name"],"mappings":"+KAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,eAAP,CACA,OAAQC,SAAR,CAAkBC,QAAlB,KAAiC,OAAjC,CACA,OAASC,MAAT,CAAgBC,UAAhB,KAAkC,mBAAlC,CACA,MAAOC,CAAAA,cAAP,KAA2B,+BAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,mCAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,OAASC,aAAT,KAA8B,iBAA9B,CAGA,QAASC,CAAAA,OAAT,EAAmB,eACUV,QAAQ,CAAC,EAAD,CADlB,wCACRW,KADQ,eACFC,QADE,kCAEaH,aAAa,EAF1B,kDAENI,IAFM,oBAENA,IAFM,CAEEC,OAFF,oBAIff,SAAS,CAAC,UAAM,CACZ,GAAMgB,CAAAA,WAAW,CAAGP,EAAE,CAACQ,UAAH,CAAc,OAAd,EAAuBC,UAAvB,CAAkC,SAAAC,QAAQ,CAAI,CAC9DN,QAAQ,CAACM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,QACzB,CACDC,EAAE,CAACD,GAAG,CAACC,EADN,CAEDC,IAAI,CAACF,GAAG,CAACE,IAAJ,EAFJ,CADyB,EAArB,CAAD,CAAR,CAMH,CAPmB,CAApB,CAQA,MAAO,WAAM,CACTR,WAAW,GACd,CAFD,CAGH,CAZQ,CAYP,EAZO,CAAT,CAaA,mBACI,2BAAK,SAAS,CAAC,SAAf,eACI,2BAAK,SAAS,CAAC,iBAAf,eACI,oBAAC,MAAD,EAAQ,GAAG,CAAEF,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEW,QAAnB,EADJ,cAEI,2BAAK,SAAS,CAAC,sBAAf,eACI,oBAAC,UAAD,mBACI,oBAAC,cAAD,MADJ,CADJ,cAII,oBAAC,UAAD,mBACI,oBAAC,QAAD,MADJ,CAJJ,cAOI,oBAAC,UAAD,mBACI,oBAAC,YAAD,MADJ,CAPJ,CAFJ,CADJ,cAeI,2BAAK,SAAS,CAAC,iBAAf,eACI,2BAAK,SAAS,CAAC,0BAAf,eACA,oBAAC,cAAD,MADA,cAEA,6BAAO,WAAW,CAAC,mBAAnB,CAAuC,IAAI,CAAC,MAA5C,EAFA,CADJ,CAfJ,cAqBI,2BAAK,SAAS,CAAC,gBAAf,eACI,oBAAC,WAAD,EAAa,UAAU,KAAvB,EADJ,CAEKb,KAAK,CAACS,GAAN,CAAU,SAAAK,IAAI,qBACX,oBAAC,WAAD,EAAa,GAAG,CAAEA,IAAI,CAACH,EAAvB,CAA2B,EAAE,CAAEG,IAAI,CAACH,EAApC,CAAwC,IAAI,CAAEG,IAAI,CAACF,IAAL,CAAUG,IAAxD,EADW,EAAd,CAFL,CArBJ,CADJ,CA8BH,CAED,cAAehB,CAAAA,OAAf","sourcesContent":["import React from 'react'\r\nimport './Sidebar.css';\r\nimport {useEffect,useState} from 'react';\r\nimport { Avatar,IconButton } from \"@material-ui/core\";\r\nimport DonutLargeIcon from \"@material-ui/icons/DonutLarge\";\r\nimport ChatIcon from \"@material-ui/icons/Chat\"\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport SearchOutlined from \"@material-ui/icons/SearchOutlined\";\r\nimport SidebarChat from './SidebarChat';\r\nimport db from \"./firebase\";\r\nimport { useStateValue } from './StateProvider';\r\n\r\n\r\nfunction Sidebar() {\r\n    const [rooms,setRooms] = useState([]);\r\n    const [{ user }, setUser] = useStateValue();\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = db.collection('rooms').onSnapshot(snapshot => {\r\n            setRooms(snapshot.docs.map(doc => \r\n                ({\r\n                id:doc.id,\r\n                data:doc.data(),\r\n            })\r\n            ))\r\n        })\r\n        return () => {\r\n            unsubscribe();\r\n        }\r\n    },[]);\r\n    return (\r\n        <div className=\"sidebar\">\r\n            <div className=\"sidebar__header\">\r\n                <Avatar src={user?.photoURL} />\r\n                <div className=\"sidebar__headerRight\">\r\n                    <IconButton>\r\n                        <DonutLargeIcon />\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <ChatIcon />\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <MoreVertIcon />\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n            <div className=\"sidebar__search\">\r\n                <div className=\"sidebar__searchContainer\">\r\n                <SearchOutlined />\r\n                <input placeholder=\"Serach out Here..\" type=\"text\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"sidebar__chats\">\r\n                <SidebarChat addNewChat />\r\n                {rooms.map(room =>(\r\n                    <SidebarChat key={room.id} id={room.id} name={room.data.name} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n"]},"metadata":{},"sourceType":"module"}